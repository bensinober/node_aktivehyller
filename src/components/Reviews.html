<div id="content-left">
  <div class="image-wrapper">
    {{#if (book.coverUrl) }}
      <div class="image-big">
        <img src="{{ book.coverUrl }}" class="omtalt-bok"/>
      </div>
    {{else}}
      <div id="omtale-bilde">
        <div id="inner-border">
          <div class="book-author">
            {{#each book.authors as aut}}
              {{ aut.creatorName }}
            {{/each }}
          </div>
          <div class="book-title">
            {{ book.title }}
          </div>
        </div>
      </div>
    {{/if}}
  </div>
  <div class="ratings"></div>
</div>
<div id="content-right">
  {{#if (reviewIndex > 0) }}
    <div id="left_arrow"><img src="/images/arrow_left_active.png" on:click='set({reviewIndex: reviewIndex-1})'/></div>
  {{else}}
    <div id="left_arrow"><img src="/images/arrow_left_inactive.png" /></div>
  {{/if}}
  {{#if (book.localReviews.length > reviewIndex+1) }}
    <div id="right_arrow"><img src="/images/arrow_right_active.png" on:click='set({reviewIndex: reviewIndex+1})' /></div>
  {{else}}
    <div id="right_arrow"><img src="/images/arrow_right_inactive.png" /></div>
  {{/if}}
  <div id="omtale-wrapper">
    <div id="scroller">
      {{#if (book.localReviews.length > 0) }}
        <Review>
          <span slot="reviewTitle">{{ book.localReviews[reviewIndex].reviewTitle }}</span>
          <span slot="reviewText">{{{ book.localReviews[reviewIndex].reviewText }}}</span>
          <span slot="reviewSource">{{ book.localReviews[reviewIndex].reviewSource }}</span>
        </Review>
      {{else}}
        <Review>
          <span slot="reviewTitle"></span>
          <span slot="reviewText">no reviews ... sorry</span>
          <span slot="reviewSource"></span>
        </Review>
      {{/if}}
    </div>
  </div>
</div>
<div class="clearfix"></div>
<!-- Similar and related books coverflow -->
<CoverFlow :book on:sameAuthorMode />

<script>
  import Review from './Review.html'
  import CoverFlow from './CoverFlow.html'
  import { doGetRequest } from '../utils/utils.js'
  export default {
    components: {
      Review,
      CoverFlow
    },
    data: () => ({
      reviewIndex: 0
    }),
    methods: {
      moreSimilarWorks (sw) {
        console.dir(sw)
        this.set({reviewMode: false, moreFromAuthorMode: false, similarWorkMode: true});
      }
    }
  }
</script>